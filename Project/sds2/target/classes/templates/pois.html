<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8" />
    <title th:text="${'Point of interests in ' + #strings.toUpperCase(cityName) + (cityName != null and !#strings.isEmpty(cityName) ? ', ' + #strings.toUpperCase(cityName) : '')}">POIs</title>
    <script src="../static/scripts/filter_places.js"></script>
  </head>
<body>
<h1 th:text="${'Point of interests in ' + #strings.toUpperCase(cityName) + (cityName != null and !#strings.isEmpty(cityName) ? ', ' + #strings.toUpperCase(cityName) : '')}">Point of interests in CITY</h1>

<h2>Activities</h2>
<div th:if="${poisData == null or #lists.isEmpty(poisData)}">
    <p>No activities found.</p>
</div>

<ul th:if="${poisData != null and !#lists.isEmpty(poisData)}" th:each="activity : ${poisData}">
    <li><strong th:text="${activity.name}"></strong></li>
    <li><span th:utext="${activity.description}"></span></li>
    <li><span th:text="${activity.price}"></span></li>
    <li><img th:src="${activity.pictures}" alt="Activity Img"/></li>
    <li><a th:href="${activity.bookingLink}">Book Now</a></li>
    <li><span th:text="${activity.minimumDuration}"></span></li>
</ul>

<p>
  <a href="/">Torna indietro</a>
</p>

<div th:if="${cityName != null}">
  <form th:action="@{'/amadeus/hotels/' + ${cityName}}" method="get" style="margin-top: 14px;">
    <input type="hidden" name="lat" th:value="${latitude}" />
    <input type="hidden" name="lon" th:value="${longitude}" />
    <input type="hidden" name="checkInDate" th:if="${checkInDate != null}" th:value="${checkInDate}" />
    <input type="hidden" name="checkOutDate" th:if="${checkOutDate != null}" th:value="${checkOutDate}" />
    <button type="submit">Want to book a hotel?</button>
  </form>
</div>
</body>
</html>
